{
  "score": 0.0,
  "tests_passed": 1,
  "tests_failed": 1,
  "tests_total": 2,
  "tests_skipped": 0,
  "duration": 1.8952689170837402,
  "error": "1 tests failed",
  "failed_tests": [
    "test_get_db_function"
  ],
  "failure_details": [
    {
      "test_name": "test_get_db_function",
      "file_path": "tests/test_init.py",
      "line_number": 21,
      "error_message": "SystemExit: 1",
      "stack_trace": "/Users/arshath/miniforge3/lib/python3.12/site-packages/werkzeug/serving.py:759: in __init__\n    self.server_bind()\n/Users/arshath/miniforge3/lib/python3.12/http/server.py:136: in server_bind\n    socketserver.TCPServer.server_bind(self)\n/Users/arshath/miniforge3/lib/python3.12/socketserver.py:473: in server_bind\n    self.socket.bind(self.server_address)\nE   OSError: [Errno 48] Address already in use\n\nDuring handling of the above exception, another exception occurred:\ntests/test_init.py:21: in test_get_db_function\n    assert has_db_connection(app), \"Module should have database connection capability\"\n           ^^^^^^^^^^^^^^^^^^^^^^\nconftest.py:185: in has_db_connection\n    return run_main_and_get_db(module) is not None\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\nconftest.py:124: in run_main_and_get_db\n    module.main()\nexpected/app.py:130: in main\n    app.run(debug=True, host='0.0.0.0', port=5000)\n/Users/arshath/miniforge3/lib/python3.12/site-packages/flask/app.py:662: in run\n    run_simple(t.cast(str, host), port, self, **options)\n/Users/arshath/miniforge3/lib/python3.12/site-packages/werkzeug/serving.py:1093: in run_simple\n    srv = make_server(\n/Users/arshath/miniforge3/lib/python3.12/site-packages/werkzeug/serving.py:930: in make_server\n    return ThreadedWSGIServer(\n/Users/arshath/miniforge3/lib/python3.12/site-packages/werkzeug/serving.py:782: in __init__\n    sys.exit(1)\nE   SystemExit: 1\n----------------------------- Captured stdout call -----------------------------\nFlask app ready\n\u2713 Successfully connected to LanceDB at ./data/lancedb\n\u2713 Available tables: []\n\nStarting Flask development server...\nVisit http://127.0.0.1:5000/ for health check\nVisit http://127.0.0.1:5000/health for detailed status\n * Serving Flask app 'expected.app'\n * Debug mode: on\n----------------------------- Captured stderr call -----------------------------\nAddress already in use\nPort 5000 is in use by another program. Either identify and stop that program, or start the server with a different port.\nOn macOS, try disabling the 'AirPlay Receiver' service from System Preferences -> General -> AirDrop & Handoff."
    }
  ],
  "raw_output": "============================= test session starts ==============================\nplatform darwin -- Python 3.12.0, pytest-9.0.1, pluggy-1.6.0 -- /Users/arshath/miniforge3/bin/python\ncachedir: .pytest_cache\nrootdir: /private/var/folders/wx/bj4n9pyj10n74txq4mpt0j9h0000gn/T/fcorr___82i5jr\nplugins: anyio-4.7.0\ncollecting ... collected 2 items\n\ntests/test_init.py::test_flask_app_exists PASSED                         [ 50%]\ntests/test_init.py::test_get_db_function FAILED                          [100%]\n\n=================================== FAILURES ===================================\n_____________________________ test_get_db_function _____________________________\n/Users/arshath/miniforge3/lib/python3.12/site-packages/werkzeug/serving.py:759: in __init__\n    self.server_bind()\n/Users/arshath/miniforge3/lib/python3.12/http/server.py:136: in server_bind\n    socketserver.TCPServer.server_bind(self)\n/Users/arshath/miniforge3/lib/python3.12/socketserver.py:473: in server_bind\n    self.socket.bind(self.server_address)\nE   OSError: [Errno 48] Address already in use\n\nDuring handling of the above exception, another exception occurred:\ntests/test_init.py:21: in test_get_db_function\n    assert has_db_connection(app), \"Module should have database connection capability\"\n           ^^^^^^^^^^^^^^^^^^^^^^\nconftest.py:185: in has_db_connection\n    return run_main_and_get_db(module) is not None\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\nconftest.py:124: in run_main_and_get_db\n    module.main()\nexpected/app.py:130: in main\n    app.run(debug=True, host='0.0.0.0', port=5000)\n/Users/arshath/miniforge3/lib/python3.12/site-packages/flask/app.py:662: in run\n    run_simple(t.cast(str, host), port, self, **options)\n/Users/arshath/miniforge3/lib/python3.12/site-packages/werkzeug/serving.py:1093: in run_simple\n    srv = make_server(\n/Users/arshath/miniforge3/lib/python3.12/site-packages/werkzeug/serving.py:930: in make_server\n    return ThreadedWSGIServer(\n/Users/arshath/miniforge3/lib/python3.12/site-packages/werkzeug/serving.py:782: in __init__\n    sys.exit(1)\nE   SystemExit: 1\n----------------------------- Captured stdout call -----------------------------\nFlask app ready\n\u2713 Successfully connected to LanceDB at ./data/lancedb\n\u2713 Available tables: []\n\nStarting Flask development server...\nVisit http://127.0.0.1:5000/ for health check\nVisit http://127.0.0.1:5000/health for detailed status\n * Serving Flask app 'expected.app'\n * Debug mode: on\n----------------------------- Captured stderr call -----------------------------\nAddress already in use\nPort 5000 is in use by another program. Either identify and stop that program, or start the server with a different port.\nOn macOS, try disabling the 'AirPlay Receiver' service from System Preferences -> General -> AirDrop & Handoff.\n=========================== short test summary info ============================\nFAILED tests/test_init.py::test_get_db_function - SystemExit: 1\n========================= 1 failed, 1 passed in 1.07s ==========================\n"
}