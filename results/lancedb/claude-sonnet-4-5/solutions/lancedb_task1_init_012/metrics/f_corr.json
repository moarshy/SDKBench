{
  "score": 0.0,
  "tests_passed": 1,
  "tests_failed": 1,
  "tests_total": 2,
  "tests_skipped": 0,
  "duration": 1.8177859783172607,
  "error": "1 tests failed",
  "failed_tests": [
    "test_main_function"
  ],
  "failure_details": [
    {
      "test_name": "test_main_function",
      "file_path": "tests/test_init.py",
      "line_number": 22,
      "error_message": "RuntimeError: lance error: La...",
      "stack_trace": "tests/test_init.py:22: in test_main_function\n    app.main()\nexpected/app.py:82: in main\n    table = create_indexed_table(db, \"documents\", sample_data)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nexpected/app.py:45: in create_indexed_table\n    table.create_index(\n/Users/arshath/miniforge3/lib/python3.12/site-packages/lancedb/table.py:2095: in create_index\n    return LOOP.run(\n/Users/arshath/miniforge3/lib/python3.12/site-packages/lancedb/background_loop.py:25: in run\n    return asyncio.run_coroutine_threadsafe(future, self.loop).result()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/Users/arshath/miniforge3/lib/python3.12/concurrent/futures/_base.py:456: in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n/Users/arshath/miniforge3/lib/python3.12/concurrent/futures/_base.py:401: in __get_result\n    raise self._exception\n/Users/arshath/miniforge3/lib/python3.12/site-packages/lancedb/table.py:3415: in create_index\n    await self._inner.create_index(\nE   RuntimeError: lance error: LanceError(Index): Not enough rows to train PQ. Requires 256 rows but only 100 available, /Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/lance-index-0.39.0/src/vector/pq/builder.rs:180:27\n----------------------------- Captured stdout call -----------------------------\nConnecting to LanceDB at: ./my_lancedb\nSuccessfully connected to LanceDB\nGenerated 100 sample documents\nTable 'documents' created with 100 records\nError creating indexed table: lance error: LanceError(Index): Not enough rows to train PQ. Requires 256 rows but only 100 available, /Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/lance-index-0.39.0/src/vector/pq/builder.rs:180:27\nError in main: lance error: LanceError(Index): Not enough rows to train PQ. Requires 256 rows but only 100 available, /Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/lance-index-0.39.0/src/vector/pq/builder.rs:180:27"
    }
  ],
  "raw_output": "============================= test session starts ==============================\nplatform darwin -- Python 3.12.0, pytest-9.0.1, pluggy-1.6.0 -- /Users/arshath/miniforge3/bin/python\ncachedir: .pytest_cache\nrootdir: /private/var/folders/wx/bj4n9pyj10n74txq4mpt0j9h0000gn/T/fcorr_b5h3dz74\nplugins: anyio-4.7.0\ncollecting ... collected 2 items\n\ntests/test_init.py::test_lancedb_connection PASSED                       [ 50%]\ntests/test_init.py::test_main_function FAILED                            [100%]\n\n=================================== FAILURES ===================================\n______________________________ test_main_function ______________________________\ntests/test_init.py:22: in test_main_function\n    app.main()\nexpected/app.py:82: in main\n    table = create_indexed_table(db, \"documents\", sample_data)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nexpected/app.py:45: in create_indexed_table\n    table.create_index(\n/Users/arshath/miniforge3/lib/python3.12/site-packages/lancedb/table.py:2095: in create_index\n    return LOOP.run(\n/Users/arshath/miniforge3/lib/python3.12/site-packages/lancedb/background_loop.py:25: in run\n    return asyncio.run_coroutine_threadsafe(future, self.loop).result()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/Users/arshath/miniforge3/lib/python3.12/concurrent/futures/_base.py:456: in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n/Users/arshath/miniforge3/lib/python3.12/concurrent/futures/_base.py:401: in __get_result\n    raise self._exception\n/Users/arshath/miniforge3/lib/python3.12/site-packages/lancedb/table.py:3415: in create_index\n    await self._inner.create_index(\nE   RuntimeError: lance error: LanceError(Index): Not enough rows to train PQ. Requires 256 rows but only 100 available, /Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/lance-index-0.39.0/src/vector/pq/builder.rs:180:27\n----------------------------- Captured stdout call -----------------------------\nConnecting to LanceDB at: ./my_lancedb\nSuccessfully connected to LanceDB\nGenerated 100 sample documents\nTable 'documents' created with 100 records\nError creating indexed table: lance error: LanceError(Index): Not enough rows to train PQ. Requires 256 rows but only 100 available, /Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/lance-index-0.39.0/src/vector/pq/builder.rs:180:27\nError in main: lance error: LanceError(Index): Not enough rows to train PQ. Requires 256 rows but only 100 available, /Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/lance-index-0.39.0/src/vector/pq/builder.rs:180:27\n=========================== short test summary info ============================\nFAILED tests/test_init.py::test_main_function - RuntimeError: lance error: La...\n========================= 1 failed, 1 passed in 1.02s ==========================\n"
}